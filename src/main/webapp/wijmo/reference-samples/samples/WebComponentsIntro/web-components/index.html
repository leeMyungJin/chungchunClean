<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>WebComponents Introduction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- WebComponents v1 polyfills -->
    <!-- Adapter must be used with ES5 code. It's not needed for ES6 code. -->
    <script src="node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!-- WebComponents polyfill. Chrome doesn't require it. -->
    <script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
    
    <!--  Common script to be included in all Wijmo samples. -->
    <script src=https://cdn.grapecity.com/wijmo/wijmo.sample.js></script>

    <!-- Load and Configure SystemJS loader -->
    <script src="node_modules/systemjs/dist/system.src.js"></script>
    <script src="systemjs.config.js"></script>

    <!-- Wijmo - enable web components mode -->
    <script>
        window['wj-control-is-element'] = true;
    </script>

    <!-- Load the root application module -->
    <script>
        System.import('./src/index');
    </script>
</head>
<body>
    <div class="header">
        <div class="container">
            <img src="https://grapecitycontentcdn.azureedge.net/gcbrand/samples/wijmo/wijmo-logo.png" alt="Wijmo" />
            <h1>Wijmo WebComponents 101</h1>
            <p>
                This page shows how to get started with Wijmo WebComponents.
            </p>
        </div>
    </div>
    <div class="container">

        <!-- Introduction -->
        <div>
            <h2>
                Introduction
            </h2>
            <p>
                This sample introduces Beta version of the Wijmo WebComponents v1 interop , which exposes
                Wijmo controls as 
                <a href="https://www.webcomponents.org/specs" target="_blank">WebComponents</a>. 
                Wijmo web components allows you to declaratively add Wijmo controls to HTML page,
                and manipulate them as usual DOM elements, without the use of any additional
                framework. Some browsers that still don't fully support WebComponents standards
                may require some additional polyfills.
            </p>
            <p>
                If you are not familiar with WebComponents, here's the 
                <a href="https://developers.google.com/web/fundamentals/getting-started/primers/customelements?hl=en"
                   target="_blank">good introduction</a> to this technology.
            </p>
            <p>
                The key aspects of the current state of the Wijmo WebComponents implementation:
            </p>
            <ol>
                <li>
                    <p>
                        Wijmo "top-level" web components that represent Wijmo controls,
                        like <b>wjc-flex-grid</b> component representing <b>FlexGrid</b> control,
                        are inherited from the corresponding control classes. For example, <b>WjcFlexGrid</b>
                        component class extends <b>FlexGrid</b> control class.
                    </p>
                    <p>
                        This also means that the base Wijmo <b>Control</b> class extends the
                        <b>HTMLElement</b> class when Wijmo is used in the "WebComponents mode".
                    </p>
                </li>
                <li>
                    Child components which are complementary to top-level components, like 
                    <b>wjc-flex-grid-column</b> components that define FlexGrid columns,
                    function as wrappers over Wijmo classes they represent. Child components
                    are directly inherited from the <b>HTMLElement</b> class, and the
                    underlying Wijmo class instance is accessible via the special 
                    <b>control</b> property of the component.
                </li>
                <li>
                    Wijmo class properties can be defined using attributes on the component
                    element. When attribute value changes, the corresponding Wijmo class property
                    is updated accordingly. Changing the class property value doesn't entail changing
                    of the corresponding attribute value. This probably can be changed in the future,
                    but right now we have no a decision on whether it's necessary.
                </li>
                <li>
                    JavaScript code can subscribe handlers to Wijmo control events using
                    native Element.addEventListener('event', handler) method.
                </li>
                <li>
                    Wijmo components don't use Shadow DOM now. This will be addressed in the
                    future versions of the interop. One of the challenges here is that 
                    Wijmo allows deep customization of its control's parts via CSS, whereas
                    the goal of Shadow DOM is to prevent it. There are new proposals to 
                    the Shadow DOM specification that can mitigate this limitation. We continue
                    to keep track the changes. For now, Wijmo web components and their parts
                    can be customized in the same way as ordinary Wijmo controls, 
                    using global CSS.
                </li>
            </ol>
            <p>
                With Wijmo web components interop, you can be declaratively add controls
                to HTML markup, as shown in this example:
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;InputNumber&lt;/label&gt;
&lt;wjc-input-number value="5" step="3"&gt;&lt;/wjc-input-number&gt;

&lt;label&gt;FlexGrid with Filter and specific columns&lt;/label&gt;
&lt;wjc-flex-grid id="gridIntro"&gt;
    &lt;wjc-flex-grid-filter&gt;&lt;/wjc-flex-grid-filter&gt;

    &lt;wjc-flex-grid-column binding="country" header="Country" width="*"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="date" header="Date"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="downloads" header="Downloads"&gt;
    &lt;/wjc-flex-grid-column&gt;
&lt;/wjc-flex-grid&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
let gridIntro = document.getElementById('gridIntro');
gridIntro.itemsSource = dataSvc.getData(100);
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label >InputNumber</label>
                        <wjc-input-number value="5" step="3"></wjc-input-number>
                    </div>
                    <div class="app-input-group">
                        <label>FlexGrid with Filter and specific columns</label>
                        <wjc-flex-grid id="gridIntro">
                            <wjc-flex-grid-filter></wjc-flex-grid-filter>
                            <wjc-flex-grid-column binding="country" header="Country" width="*">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="date" header="Date">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="downloads" header="Downloads">
                            </wjc-flex-grid-column>
                        </wjc-flex-grid>
                    </div>
                </div>
            </div>
        </div>



        <!-- Setup -->
        <div>
            <h2>
                Setup 
            </h2>
            <p>
                This sample is based on npm modules, and is configured to run using either 
                SystemJS run-time module loader or Webpack bundler.
            </p>
            <p>
                The key aspects of the WebComponents based application configuration are as follows:
            </p>
            <ol>
                <li>
                    Install the latest Wijmo nightly build in NodeJS command prompt:
                    <pre>> npm install wijmo@nightly --save</pre>
                </li>
                <li>
                    Install WebComponents polyfills: 
                    <pre>> npm install @webcomponents/webcomponentsjs --save</pre>
                    and add them to the root (default.htm) page.
                    <p>
                        This polyfill is only necessary if you run application with web components
                        as ES5 code:
                    </p>
                    <pre>&lt;script src="node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"&gt;&lt;/script&gt;</pre>
                    <p>
                        This polyfill is necessary for all browsers except for Chrome:
                    </p>
                    <pre>&lt;script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"&gt;&lt;/script&gt;</pre>
                </li>
                <li>
                    Enable Wijmo "WebComponents mode" using the following assignment in the root html
                    page, which must be performed before any Wijmo module has been loaded:
                    <pre>
&lt;script&gt;
    window['wj-control-is-element'] = true;
&lt;/script&gt;</pre>
                    <p>
                        This assignment will cause the base Wijmo <b>Control</b> class to extend
                        the <b>HTMLElement</b> class, instead of the <b>Object</b> class as it
                        normally happens.
                    </p>
                </li>
                <li>
                    Import necessary modules of Wijmo WebComponents interop in ES6/TypeScript code:
                    <pre>
import 'wijmo/wijmo.webcomponents.input';
import 'wijmo/wijmo.webcomponents.grid';</pre>
                    <p>
                        These imports will cause the modules to globally register comprising
                        web components using the window.customElements.define(...) method.
                    </p>
                </li>
                <li>
                    <b>(Not applicable to this sample!)</b> If you want to use Wijmo WebComponents 
                    interop as a global module, you need to add the wijmo.webcomponents.js file
                    located in the dist/interop/webcomponents folder of Wijmo download zip to
                    the root html page using the &lt;script&gt; tag:
                    <pre>&lt;script src="path_to_wijmo/dist/interop/webcomponents/wijmo.webcomponents.js"&gt;&lt;/script&gt;</pre>
                    <p>
                        This single file includes all the components provided by the interop.
                    </p>
                </li>
            </ol>
            <p>
                Now, you can use Wijmo web components in your application:
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;head&gt;
    &lt;script src="node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"&gt;&lt;/script&gt;
    &lt;script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        window['wj-control-is-element'] = true;
    &lt;/script&gt;    
    ...
&lt;/head&gt;
&lt;body&gt;
    &lt;wjc-input-number value="5" step="3"&gt;&lt;/wjc-input-number&gt;
&lt;/body&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
import 'wijmo/wijmo.webcomponents.input';
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <wjc-input-number value="5" step="3"></wjc-input-number>
                </div>
            </div>
        </div>


        <!-- Attributes -->
        <div>
            <h2>
                Attributes
            </h2>
            <p>
                Property values can be specified using corresponding attributes defined on the
                Wijmo web component element.
            </p>
            <p>
                The following rules should be considered:
            </p>
            <ol>
                <li>
                    Attribute names should be in the dash delimited format, for example
                    <b>first-day-of-week</b> should be used to specify a value for the
                    <b>firstDayOfWeek</b> property.
                </li>
                <li>
                    Only simple type properties can be specified as attributes. 
                    For enum type properties the enum member names can be used, 
                    for example <b>selection-mode="Day"</b>.
                </li>
                <li>
                    Because attribute values are always strings, Wijmo web components
                    perform an appropriate value conversion before assigning the value
                    to the corresponding property.
                </li>
            </ol>
            <p>
                The following example shows a <b>wjc-calendar</b> web component
                with the specified properties of different types.
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;Calendar&lt;/label&gt;
&lt;wjc-calendar style="width:450px"
    show-header="true" 
    value="04/07/2018"
    first-day-of-week="1"
    selection-mode="Day"
    format-day-headers="dddd"&gt;
&lt;/wjc-calendar&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
import 'wijmo/wijmo.webcomponents.input';
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label>Calendar</label>
                        <wjc-calendar style="width:450px"
                            show-header="true" 
                            value="04/07/2018"
                            first-day-of-week="1"
                            selection-mode="Day"
                            format-day-headers="dddd">
                        </wjc-calendar>
                    </div>
                </div>
            </div>
        </div>



        <!-- Child components -->
        <div>
            <h2>
                Child components
            </h2>
            <p>
                In addition to "top-level" web components representing Wijmo Controls,
                there are also child components that help to declaratively customize
                its parent component's setup. For example, you can specify a list
                of FlexGrid columns using the <b>wjc-flex-grid-column</b> components,
                or define FlexChart series using the <b>wjc-flex-chart-series</b>
                child components.
            </p>
            <p>
                Child components must be immediate children of their parent component.
            </p>
            <p>
                The example below demonstrates:
            </p>
            <ol>
                <li>
                    <b>wjc-flex-grid</b> component with child <b>wjc-flex-grid-column</b>
                    components defining a list of grid columns, and a <b>wjc-flex-grid-filter</b>
                    child component that applies columns filter to the grid.
                </li>
                <li>
                    <b>wjc-flex-chart</b> component with child <b>wjc-flex-chart-series</b>
                    components defining chart's series, and <b>wjc-flex-chart-axis</b>
                    child components that customize chart's X and Y axes.
                </li>
            </ol>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;FlexGrid with Columns and Filter&lt;/label&gt;
&lt;wjc-flex-grid id="gridWithChildren" style="height:auto"&gt;
    &lt;wjc-flex-grid-filter&gt;&lt;/wjc-flex-grid-filter&gt;

    &lt;wjc-flex-grid-column binding="country"
                            header="Country"
                            width="*"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="date" header="Date"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="downloads" header="Downloads"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="sales" header="Sales" format="c2"&gt;
    &lt;/wjc-flex-grid-column&gt;
&lt;/wjc-flex-grid&gt;

&lt;label&gt;FlexChart with Series and Axes&lt;/label&gt;
&lt;wjc-flex-chart id="chartWithChildren" binding-x="country" style="height:300px"&gt;
    &lt;wjc-flex-chart-axis 
            wj-property="axisX"
            title="Countries"
            axis-line="true"&gt;
    &lt;/wjc-flex-chart-axis&gt;
    &lt;wjc-flex-chart-axis 
            wj-property="axisY"
            title="Sales/Downloads"
            axis-line="true"
            major-grid="true"&gt;
    &lt;/wjc-flex-chart-axis&gt;

    &lt;wjc-flex-chart-series name="Sales" binding="sales"&gt;
    &lt;/wjc-flex-chart-series&gt;
    &lt;wjc-flex-chart-series name="Downloads" binding="downloads"&gt;
    &lt;/wjc-flex-chart-series&gt;
&lt;/wjc-flex-chart&gt;

                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
let chData = dataSvc.getData(dataSvc.countries.length);
let gridWithChildren = <any>document.getElementById('gridWithChildren');
gridWithChildren.itemsSource = chData;
let chartWithChildren = <any>document.getElementById('chartWithChildren');
chartWithChildren.itemsSource = chData;
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label>FlexGrid with Columns and Filter</label>
                        <wjc-flex-grid id="gridWithChildren" style="height:auto">
                            <wjc-flex-grid-filter></wjc-flex-grid-filter>

                            <wjc-flex-grid-column binding="country"
                                                  header="Country"
                                                  width="*">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="date" header="Date">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="downloads" header="Downloads">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="sales" header="Sales" format="c2">
                            </wjc-flex-grid-column>
                        </wjc-flex-grid>
                    </div>
                    <div class="app-input-group">
                        <label>FlexChart with Series and Axes</label>
                        <wjc-flex-chart id="chartWithChildren" binding-x="country" style="height:300px">
                            <wjc-flex-chart-axis 
                                    wj-property="axisX"
                                    title="Countries"
                                    axis-line="true">
                            </wjc-flex-chart-axis>
                            <wjc-flex-chart-axis 
                                    wj-property="axisY"
                                    title="Sales/Downloads"
                                    axis-line="true"
                                    major-grid="true">
                            </wjc-flex-chart-axis>

                            <wjc-flex-chart-series name="Sales" binding="sales"></wjc-flex-chart-series>
                            <wjc-flex-chart-series name="Downloads" binding="downloads"></wjc-flex-chart-series>
                        </wjc-flex-chart>
                    </div>
                    </div>
            </div>
        </div>


        <!-- Referencing and using in code -->
        <div>
            <h2>
                Referencing and using in code
            </h2>
            <p>
                You can find a Wijmo web component element using conventional DOM api
                like the <b>document.getElementById</b> method. After that you can access
                Wijmo specific API of this element by following the next rules:
            </p>
            <ol>
                <li>
                    For top level components representing Wijmo Controls all the 
                    control's API is available right on the element, because such
                    components are directly inherited from the corresponding control class.
                    For example, you can use the following code to assign data to
                    the FlexGrid web component:
                    <pre>document.querySelector('wjc-flex-grid').itemsSource = getData();</pre>
                </li>
                <li>
                    For child components accompanying Wijmo Control components you should use
                    special <b>control</b> property to get a reference to the underlying Wijmo
                    object, because Wijmo child components function as wrappers around the 
                    Wijmo classes they represent. For example, this code can be used to specify
                    filter column list for the FlexGridFilter web component:
                    <pre>document.querySelector('wjc-flex-grid-filter').control.filterColumns = ['country', 'date'];</pre>
                </li>
            </ol>
            <p>
                The following example attaches <b>wjc-group-panel</b> component to the 
                <b>wjc-flex-grid</b> component, as well as defines filter column list
                for the <b>wjc-flex-grid-filter</b> component.
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;FlexGrid with GroupPanel and Filter&lt;/label&gt;
&lt;wjc-group-panel 
      id="panelRef"
      placeholder="Drag columns here..."&gt;
&lt;/wjc-group-panel&gt;
&lt;wjc-flex-grid id="gridRef"&gt;
    &lt;wjc-flex-grid-filter id="filterRef"&gt;&lt;/wjc-flex-grid-filter&gt;
&lt;/wjc-flex-grid&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
// Find grid element in the DOM tree
let gridRef = <any>document.getElementById('gridRef');
// The element is also a FlexGrid instance (inherited from FlexGrid),
// so we can use FlexGrid api on the element, e.g. to assign its data
// source.
gridRef.itemsSource = dataSvc.getData(100);
// Find group panel element in the DOM tree
let panelRef = <any>document.getElementById('panelRef');
// and attach it to the grid:
panelRef.grid = gridRef;
// Find wjc-flex-grid-filter component in the DOM tree
let filterRef = <any>document.getElementById('filterRef');
// and specify the filterColumns property value of its 
// underlying FlexGridFilter object
filterRef.control.filterColumns = ['country', 'date'];
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label>FlexGrid with GroupPanel and Filter</label>
                        <wjc-group-panel id="panelRef"
                             placeholder="Drag columns here...">
                        </wjc-group-panel>
                        <wjc-flex-grid id="gridRef">
                            <wjc-flex-grid-filter id="filterRef"></wjc-flex-grid-filter>
                        </wjc-flex-grid>
                    </div>
                </div>
            </div>
        </div>


        <!-- Events -->
        <div>
            <h2>
                Events
            </h2>
            <p>
                You can subscribe to Wijmo specific events using conventional 
                <b>addEventListener</b> method, as you do with the native HTML
                elements. The event name should be specified in the dash delimited
                format, for example <b>value-changed</b> for the native Wijmo 
                <b>valueChanged</b> event.
            </p>
            <p>
                For example, you can subscribe to the InputNumber.valueChanged
                event of the corresponding web component using the code like this:
            </p>
            <pre>document.querySelector('wjc-input-number').addEventListener('value-changed', (e) => {
    alert(`New value is ${e.target.value}`);
});</pre>
            <p>
                Wijmo components trigger events of the 
                <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent" target="_blank">CustomEvent</a>
                type. There are two key properties of the event object that can be used in
                the event handler:
            </p>
            <ol>
                <li>
                    <b>target</b> - references the web component that triggered the event.
                </li>
                <li>
                    <b>detail</b> - holds event arguments of the corresponding Wijmo event.
                    For example, for the 
                    <a href="https://www.grapecity.com/wijmo/api/classes/wijmo_grid.flexgrid.html#formatitem"
                       target="_blank">FlexGrid.formatItem</a> event the CustomEvent.detail
                    property will contain an object of the
                    <a href="https://www.grapecity.com/wijmo/api/classes/wijmo_grid.formatitemeventargs.html"
                       target="_blank">FormatItemEventArgs</a> type.
                </li>
            </ol>
            <p>
                Note that Wijmo web components representing Wijmo Controls inherit two different 
                versions of the <b>addEventListener</b> methods from the two base classes - 
                <b>wijmo.Control</b> implements its own version of this method, and it also
                inherit this method from the base <b>HTMLElement</b> class. Because these 
                two incarnations of this method have different signatures, Wijmo web components
                are capable to differentiate them and call an appropriate implementation of this method.
            </p>
            <p>
                The following example uses <b>value-changed</b> event of the 
                <b>wjc-input-number</b> and <b>wjc-linear-gauge</b>
                components to synchronize their values. It also uses <b>wjc-flex-grid</b>'s <b>format-item</b>
                event to customize cell content of the <b>Active</b> column.
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;InputNumber and LinearGauge synchronized using valueChanged event&lt;/label&gt;
&lt;wjc-input-number 
    id="inpNumEvents" 
    value="30" 
    step="10" 
    min="0" 
    max="100"&gt;
&lt;/wjc-input-number&gt;
&lt;wjc-linear-gauge 
        id="gaugeEvents" 
        value="30" 
        step="10" 
        min="0" 
        max="100" 
        is-read-only="false"
        is-animated="false"
        thumb-size="10"
        style="display:block;height:30px"&gt;
    &lt;wjc-range wj-property="face" thickness="0.25"&gt;&lt;/wjc-range&gt;
    &lt;wjc-range wj-property="pointer" thickness="0.25"&gt;&lt;/wjc-range&gt;
&lt;/wjc-linear-gauge&gt;

&lt;label&gt;FlexGrid's Active column formatted using formatItem event&lt;/label&gt;
&lt;wjc-flex-grid id="gridEvents"&gt;
    &lt;wjc-flex-grid-column 
        binding="country"
        header="Country"
        width="*"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="downloads" header="Downloads"&gt;
    &lt;/wjc-flex-grid-column&gt;
    &lt;wjc-flex-grid-column binding="active" header="Active"&gt;
    &lt;/wjc-flex-grid-column&gt;
&lt;/wjc-flex-grid&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
// InputNumber and LinearGauge synchronized using valueChanged event
let inpNumEvents = <any>document.getElementById('inpNumEvents');
let gaugeEvents = <any>document.getElementById('gaugeEvents');
inpNumEvents.addEventListener('value-changed', (e: CustomEvent) => {
    // CustomEvent.target references the component where event occurred
    gaugeEvents.value = (<any>e.target).value;
});
gaugeEvents.addEventListener('value-changed', (e: CustomEvent) => {
    inpNumEvents.value = (<any>e.target).value;
});  

// FlexGrid's Active column formatted using formatItem event
let gridEvents = <any>document.getElementById('gridEvents');
gridEvents.itemsSource = dataSvc.getData(100);
gridEvents.addEventListener('format-item', (e: CustomEvent) => {
    // CustomEvent.detail contains corresponding Wijmo event arguments
    let args = <wjGrid.FormatItemEventArgs>e.detail,
        grid = args.panel.grid;
    if (args.panel === grid.cells &&
            grid.columns[args.col].binding === 'active' &&
        !args.range.equals(grid.editRange)) {
        args.cell.innerHTML = grid.getCellData(args.row, args.col, false) ? 'Yes' : 'No';
    }
});
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label>InputNumber and LinearGauge synchronized using valueChanged event</label>
                        <wjc-input-number 
                            id="inpNumEvents" 
                            value="30" 
                            step="10" 
                            min="0" 
                            max="100">
                        </wjc-input-number>
                        <wjc-linear-gauge 
                                id="gaugeEvents" 
                                value="30" 
                                step="10" 
                                min="0" 
                                max="100" 
                                is-read-only="false"
                                is-animated="false"
                                thumb-size="10"
                                style="display:block;height:30px">
                            <wjc-range wj-property="face" thickness="0.25"></wjc-range>
                            <wjc-range wj-property="pointer" thickness="0.25"></wjc-range>
                        </wjc-linear-gauge>
                    </div>
                    <div class="app-input-group">
                        <label>FlexGrid's Active column formatted using formatItem event</label>
                        <wjc-flex-grid id="gridEvents">
                            <wjc-flex-grid-column 
                                binding="country"
                                header="Country"
                                width="*">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="downloads" header="Downloads">
                            </wjc-flex-grid-column>
                            <wjc-flex-grid-column binding="active" header="Active">
                            </wjc-flex-grid-column>
                        </wjc-flex-grid>
                    </div>
                </div>
            </div>
        </div>


        <!-- Creating programmatically -->
        <div>
            <h2>
                Creating programmatically
            </h2>
            <p>
                You can operate with Wijmo web component elements using standard DOM API, 
                in the same way as you do it with native HTML element. Specifically, you can:
            </p>
            <ol>
                <li>
                    Create a Wijmo component using <b>document.createElement</b> method, 
                    for example document.createElement('wjc-flex-grid').
                </li>
                <li>
                    Add, move and remove elements to/from the DOM tree using the methods 
                    like <b>document.appendChild</b>, <b>document.insertBefore</b> and 
                    <b>document.removeChild</b>.
                </li>
                <li>
                    The same is true for Wijmo child components, for example you can
                    add, remove and reorder grid columns by adding/removing/reordering
                    <b>wjc-flex-grid-column</b> elements in their parent
                    <b>wjc-flex-grid</b> element.
                </li>
            </ol>
            <p>
                This sample creates a FlexGrid with columns and column filters programmatically,
                by creating corresponding Wijmo web components and adding them to the appropriate
                places of the DOM tree.
            </p>
            <div class="row">
                <div class="col-md-6">
                    <div class="tab-source">
                        <div>
                            <a>HTML</a>
                            <div>
&lt;label&gt;FlexGrid with columns and filter created programmatically&lt;/label&gt;
&lt;div id="gridProg"&gt;&lt;/div&gt;
                            </div>
                        </div>
                        <div>
                            <a>JS</a>
                            <div>
// Find placeholder element
let placeHolder = document.getElementById('gridProg');
// Create FlexGrid web component
let gridProg = document.createElement('wjc-flex-grid');
// Add grid to DOM
placeHolder.appendChild(gridProg);
// Create Column web component
let countryCol = <any>document.createElement('wjc-flex-grid-column');
// add child to parent before assigning its properties
gridProg.appendChild(countryCol);
countryCol.control.binding = 'country';
countryCol.control.header = 'Country';
countryCol.control.width = '*';
// Create Column web component
let downloadsCol = <any>document.createElement('wjc-flex-grid-column');
// add child to parent before assigning its properties
gridProg.appendChild(downloadsCol);
downloadsCol.control.binding = 'downloads';
downloadsCol.control.header = 'Downloads';
// Create FlexGridFilter web component
let filter = <any>document.createElement('wjc-flex-grid-filter');
// add child to parent before assigning its properties
gridProg.appendChild(filter);
filter.filterColumns = ['country'];

// Set grid data
(<any>gridProg).itemsSource = dataSvc.getData(100);
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h4>Result (live):</h4>
                    <div class="app-input-group">
                        <label>FlexGrid with columns and filter created programmatically</label>
                        <div id="gridProg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
